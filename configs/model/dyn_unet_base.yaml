# 网络架构目标类 - 使用MONAI框架中的动态UNet实现
_target_: "monai.networks.nets.DynUNet"

# 输入输出通道配置
in_channels: 1      # 输入通道数：1，表示单通道3D医学图像（如CT/MRI）
out_channels: 1     # 输出通道数：1，表示单通道的分割掩码输出

# 空间维度设置
spatial_dims: 3     # 3D空间维度，适用于体积数据分割任务

# 下采样步长配置 - 定义编码器路径的降采样策略
strides: 
  - [1, 1, 1]  # 第一层：无下采样，保持原始分辨率
  - [2, 2, 2]  # 第二层：各维度2倍下采样，特征图尺寸减半
  - [2, 2, 2]  # 第三层：继续2倍下采样
  - [2, 2, 2]  # 第四层：2倍下采样
  - [2, 2, 2]  # 第五层：2倍下采样
  - [2, 2, 2]  # 第六层：2倍下采样，总共64倍降采样

# 卷积核尺寸配置 - 每层的卷积核大小
kernel_size: 
  - [3, 3, 3]  # 3x3x3卷积核，平衡感受野和计算效率
  - [3, 3, 3]  # 保持一致的卷积核尺寸
  - [3, 3, 3]  # 贯穿所有层级的统一卷积核
  - [3, 3, 3]  # 确保特征提取的一致性
  - [3, 3, 3]  # 深层特征提取
  - [3, 3, 3]  # 最底层的卷积操作

# 上采样核尺寸配置 - 解码器路径的上采样参数
upsample_kernel_size: 
  - [2, 2, 2]  # 第一级上采样：2倍上采样恢复分辨率
  - [2, 2, 2]  # 第二级上采样：2倍上采样
  - [2, 2, 2]  # 第三级上采样：2倍上采样
  - [2, 2, 2]  # 第四级上采样：2倍上采样
  - [2, 2, 2]  # 第五级上采样：2倍上采样，最终恢复原始尺寸

# 特征图通道数配置 - 定义每层的滤波器数量
filters: 
  - 32   # 第一层：32个滤波器，浅层特征提取
  - 64   # 第二层：64个滤波器，特征通道数翻倍
  - 128  # 第三层：128个滤波器，继续增加特征维度
  - 256  # 第四层：256个滤波器，高层语义特征
  - 320  # 第五层：320个滤波器，瓶颈层最大特征维度
  - 320  # 第六层：保持320个滤波器，对称结构设计

# 残差连接配置
res_block: True     # 启用残差块结构，改善梯度流动和训练稳定性